<html>
<head>
<link href="css/projekktor/stylesheet.css" type="text/css" rel="stylesheet">
<script src='js/jquery.js'></script>
<script src="js/projekktor-1.3.09.min.js"></script>
</head>
    <body bgcolor="#000">
        <div id="player_a" class="projekktor">
            <div id="message">Loading video..</div>
            <div id="progressbar"><div></div></div>
        </div>
 

       <script type="text/javascript">
            $(document).ready(function() {
                var r = new XMLHttpRequest();
                r.onprogress = function(evt) {
                    var progress = (evt.loaded / evt.total);
                    var width = progress * $('#progressbar').width();
                    $('#progressbar').find('div').width(width).html(Math.round(progress * 100) + "%&nbsp;");
                };
                
                r.onload = function() {
                    $('#message').hide();
                    $('#progressbar').hide();
                    var url = URL.createObjectURL(r.response);
                    projekktor('#player_a', {
                        controls: true,
                        poster: 'img/intro.png',
                        playerFlashMP4: 'swf/StrobeMediaPlayback/StrobeMediaPlayback.swf',
                        playerFlashMP3: 'swf/StrobeMediaPlayback/StrobeMediaPlayback.swf',
					    iframe: true,
					    forceFullViewport: true,
                        playlist: [{0: {src: url, type: "video/mp4"}}]    
                        }, function(player) {} // on ready 
                    );
                };
                r.open("GET", "http://www.st.ewi.tudelft.nl/~bouman/big_buck_bunny_480p_h264.mp4");
                r.responseType = "blob";
                r.send();
            });
        </script>
    </body>
</html>